{% extends "admin/base_site.html" %}
{% load i18n %}

{% block content %}
<div style="margin-bottom: 2rem;">
    
    <nav style="background-color: var(--white); border: 1px solid var(--accent-gray); border-radius: 0.75rem; padding: 1rem 1.5rem; margin-bottom: 1.5rem; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);">
        <a href="{% url 'admin:index' %}" style="color: var(--primary-dark); text-decoration: none;">الرئيسية</a>
        <span style="margin: 0 0.5rem; color: var(--medium-gray);">›</span>
        <span style="color: var(--medium-gray);">
            {% if app_label == "auth" %}
                المصادقة والتفويض
            {% elif app_label == "django_celery_beat" %}
                المهام الدورية
            {% elif app_label == "accounts" %}
                إدارة الحسابات
            {% elif app_label == "transactions" %}
                المعاملات المالية
            {% elif app_label == "core" %}
                النظام الأساسي
            {% else %}
                {{ app_label|capfirst }}
            {% endif %}
        </span>
    </nav>

    
    <div class="card" style="padding: 2rem; margin-bottom: 2rem;">
        <h1 style="font-size: 2.5rem; font-weight: bold; color: var(--primary-dark); margin: 0 0 0.5rem 0;">
            {% if app_label == "auth" %}
                المصادقة والتفويض
            {% elif app_label == "django_celery_beat" %}
                المهام الدورية
            {% elif app_label == "accounts" %}
                إدارة الحسابات
            {% elif app_label == "transactions" %}
                المعاملات المالية
            {% elif app_label == "core" %}
                النظام الأساسي
            {% else %}
                {{ app_label|capfirst }}
            {% endif %}
        </h1>
        <p style="color: var(--medium-gray); margin: 0;">
            إدارة جميع عناصر تطبيق {{ app_label }}
        </p>
    </div>

    
    {% if app_list %}
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem;">
        {% for app in app_list %}
            {% for model in app.models %}
            <div class="card" style="padding: 1.5rem; transition: transform 0.3s ease, box-shadow 0.3s ease;">
                <div style="display: flex; justify-content: between; align-items: start; margin-bottom: 1rem;">
                    <div style="flex: 1;">
                        <h3 style="font-size: 1.25rem; font-weight: bold; color: var(--primary-dark); margin: 0 0 0.5rem 0;">
                            {% if model.name == "Groups" %}
                                المجموعات
                            {% elif model.name == "Users" %}
                                المستخدمين
                            {% elif model.name == "Clocked" %}
                                المجدولة
                            {% elif model.name == "Crontabs" %}
                                جداول التوقيت
                            {% elif model.name == "Intervals" %}
                                الفترات الزمنية
                            {% elif model.name == "Periodic tasks" %}
                                المهام الدورية
                            {% elif model.name == "Solar events" %}
                                الأحداث الشمسية
                            {% else %}
                                {{ model.name }}
                            {% endif %}
                        </h3>
                        {% if model.admin_url %}
                            <p style="color: var(--medium-gray); margin: 0; font-size: 0.875rem;">
                                إدارة وعرض جميع 
                                {% if model.name == "Groups" %}
                                    المجموعات
                                {% elif model.name == "Users" %}
                                    المستخدمين
                                {% elif model.name == "Clocked" %}
                                    المجدولة
                                {% elif model.name == "Crontabs" %}
                                    جداول التوقيت
                                {% elif model.name == "Intervals" %}
                                    الفترات الزمنية
                                {% elif model.name == "Periodic tasks" %}
                                    المهام الدورية
                                {% elif model.name == "Solar events" %}
                                    الأحداث الشمسية
                                {% else %}
                                    {{ model.name }}
                                {% endif %}
                            </p>
                        {% endif %}
                    </div>
                </div>
                
                <div style="display: flex; gap: 0.75rem; flex-wrap: wrap;">
                    {% if model.admin_url %}
                        <a href="{{ model.admin_url }}" class="btn-primary" style="padding: 0.5rem 1rem; border-radius: 0.375rem; font-size: 0.875rem; font-weight: 500; text-decoration: none;">
                            {% if model.view_only %}عرض{% else %}إدارة{% endif %}
                        </a>
                    {% endif %}
                    
                    {% if model.add_url %}
                        <a href="{{ model.add_url }}" class="btn-secondary" style="padding: 0.5rem 1rem; border-radius: 0.375rem; font-size: 0.875rem; font-weight: 500; text-decoration: none;">
                            إضافة
                        </a>
                    {% endif %}
                </div>
            </div>
            {% endfor %}
        {% endfor %}
    </div>
    {% else %}
    <div class="card" style="padding: 3rem; text-align: center;">
        <h3 style="font-size: 1.25rem; font-weight: 500; color: var(--primary-dark); margin-bottom: 0.5rem;">
            لا توجد نماذج متاحة
        </h3>
        <p style="color: var(--medium-gray); margin: 0;">
            لا توجد نماذج في هذا التطبيق أو ليس لديك صلاحية للوصول إليها
        </p>
    </div>
    {% endif %}

    
    <div style="margin-top: 2rem;">
        <a href="{% url 'admin:index' %}" class="btn-secondary" style="padding: 0.75rem 1.5rem; border-radius: 0.5rem; font-weight: 500; text-decoration: none;">
            العودة للصفحة الرئيسية
        </a>
    </div>
</div>

<style>
    .card:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
    }
</style>
{% endblock %}